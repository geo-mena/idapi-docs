openapi: 3.1.1
info:
  title: Civil Validation Ecuador API
  description: |
    The Civil Validation Ecuador API performs facial matching and/or data validation between the properties sent and the data from the Civil Registry of Ecuador.
    
    ## Features
    
    * **Facial Matching**: Compare faces against official images from the Civil Registry
    * **Data Validation**: Validate document data against Civil Registry records
    * **Full Validation**: Combined data validation and facial matching
    * **Multiple Platforms**: Support for both WEB and MOBILE widgets
    
    ## Supported Countries
    
    The civilValidation service supports the following countries, based on the ISO 3166-1 alpha-3 format:
    - Ecuador (ECU)
    - Costa Rica (CRI)
    - Argentina (ARG)
    - Peru (PER)
    - Guatemala (GTM)
    - Panama (PAN)
    - Honduras (HND)
    
    **Note**: This documentation focuses specifically on Ecuador (ECU) implementation.
    
  version: 1.0.0
  contact:
    name: FacePhi Support
    email: support@facephi.com
servers:
  - url: '{IDENTITY_API_BASE_URL}'
    description: Identity API Base URL
    variables:
      IDENTITY_API_BASE_URL:
        default: 'https://api.identity-platform.io'
security:
  - apiKey: []
tags:
  - name: Civil Validation Ecuador
    description: Civil Registry validation services for Ecuador
paths:
  '/services/civilValidation':
    post:
      tags:
        - Civil Validation Ecuador
      summary: Civil Validation Service
      description: This service performs facial matching and/or data validation between the properties sent and the data from the Civil Registry of Ecuador. The specific operation depends on the request parameters.
      operationId: civilValidationFullMobile
      requestBody:
        description: Full validation request for mobile platform
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CivilValidationFullMobileRequest'
            example:
              operation: "FULL"
              platform: "MOBILE"
              tokenOcr: "base64TokenOcrString"
              templateRaw: "base64TemplateRawString"
              documentCode: "E1234V"
              documentNumber: "1234567890"
              countryCode: "ECU"
              returnPII: true
              tracking:
                extraData: "BQABAQG2gBNjuHN..."
                operationId: "xxxxx-xxxxx-xxxxx-xxxxx-xxxxx"
      responses:
        '200':
          description: Successfully processed full validation - mobile
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CivilValidationFullResponse'
              example:
                serviceResultCode: 0
                serviceTime: "2500"
                serviceResultLog: "Positive | Service executed ok"
                serviceTransactionId: "12345678-1234-1234-1234-123456789012"
                civilDataValidation:
                  - field: "dateOfBirth"
                    code: "0"
                    message: "Validated ok"
                  - field: "firstName"
                    code: "0"
                    message: "Validated ok"
                  - field: "lastName"
                    code: "0"
                    message: "Validated ok"
                serviceFacialAuthenticationResult: 3
                serviceFacialSimilarityResult: 0.98
                serviceFacialAuthenticationHash: "ABC123DEF456GHI789JKL012MNO345PQR678STU901VWX234YZ567"
                serviceDocument: "{\"DocumentNumber\":\"1234567890\",\"FirstName\":\"JUAN CARLOS\",\"LastName\":\"RODRIGUEZ LOPEZ\",\"DateOfBirth\":\"15/03/1985\",\"Gender\":\"M\",\"Nationality\":\"ECUATORIANA\"}"
                civilServiceData: "{\"apellidos\":\"RODRIGUEZ LOPEZ\",\"nombres\":\"JUAN CARLOS\",\"fechaNacimiento\":\"15/03/1985\",\"sexo\":\"HOMBRE\",\"nacionalidad\":\"ECUATORIANA\",\"estadoCivil\":\"SOLTERO\"}"
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '502':
          $ref: '#/components/responses/BadGateway'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
      security:
        - apiKey: []
    put:
      tags:
        - Civil Validation Ecuador
      summary: Civil Validation Service
      description: This service performs facial matching and/or data validation between the properties sent and the data from the Civil Registry of Ecuador. The specific operation depends on the request parameters.
      operationId: civilValidationFullWeb
      requestBody:
        description: Full validation request for web platform
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CivilValidationFullWebRequest'
            example:
              operation: "FULL"
              platform: "WEB"
              imageFrontDocument: "base64ImageFrontString"
              imageBackDocument: "base64ImageBackString"
              templateRaw: "base64TemplateRawString"
              documentNumber: "0987654321"
              documentCode: "V5678V"
              countryCode: "ECU"
              returnPII: true
              tracking:
                extraData: "BQABAQG2gBNjuHN..."
                operationId: "xxxxx-xxxxx-xxxxx-xxxxx-xxxxx"
      responses:
        '200':
          description: Successfully processed full validation - web
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CivilValidationFullResponse'
              example:
                serviceResultCode: 0
                serviceTime: "3200"
                serviceResultLog: "Negative | Service executed ok"
                serviceTransactionId: "87654321-4321-4321-4321-210987654321"
                civilDataValidation: []
                serviceFacialAuthenticationResult: 1
                serviceFacialSimilarityResult: 0.15
                serviceFacialAuthenticationHash: "ZYX987WVU654TSR321PON098MLK765JIH432GFE109DCB876A543"
                serviceDocument: "{\"DocumentNumber\":\"0987654321\",\"FirstName\":\"MARIA ELENA\",\"LastName\":\"GONZALEZ TORRES\",\"DateOfBirth\":\"28/11/1992\",\"Gender\":\"F\",\"Nationality\":\"ECUATORIANA\"}"
                civilServiceData: "{\"apellidos\":\"GONZALEZ TORRES\",\"nombres\":\"MARIA ELENA\",\"fechaNacimiento\":\"28/11/1992\",\"sexo\":\"MUJER\",\"nacionalidad\":\"ECUATORIANA\",\"estadoCivil\":\"CASADO\"}"
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '502':
          $ref: '#/components/responses/BadGateway'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
      security:
        - apiKey: []
    patch:
      tags:
        - Civil Validation Ecuador
      summary: Civil Validation Service
      description: This service performs facial matching and/or data validation between the properties sent and the data from the Civil Registry of Ecuador. The specific operation depends on the request parameters.
      operationId: civilValidationDataMobile
      requestBody:
        description: Data validation request for mobile platform
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CivilValidationDataMobileRequest'
            example:
              operation: "DATA"
              platform: "MOBILE"
              tokenOcr: "base64TokenOcrString"
              documentCode: "E9876V"
              documentNumber: "1122334455"
              countryCode: "ECU"
              returnPII: true
              tracking:
                extraData: "BQABAQG2gBNjuHN..."
                operationId: "xxxxx-xxxxx-xxxxx-xxxxx-xxxxx"
      responses:
        '200':
          description: Successfully processed data validation - mobile
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CivilValidationDataResponse'
              example:
                serviceResultCode: 0
                serviceTime: "1800"
                serviceResultLog: "Service executed ok"
                serviceTransactionId: "55443322-5544-3322-1100-554433221100"
                civilDataValidation:
                  - field: "dateOfBirth"
                    code: "0"
                    message: "Validated ok"
                  - field: "firstName"
                    code: "0"
                    message: "Validated ok"
                  - field: "lastName"
                    code: "0"
                    message: "Validated ok"
                serviceDocument: "{\"DocumentNumber\":\"1122334455\",\"FirstName\":\"CARLOS ALBERTO\",\"LastName\":\"MARTINEZ SILVA\",\"DateOfBirth\":\"10/07/1978\",\"Gender\":\"M\",\"Nationality\":\"ECUATORIANA\"}"
                civilServiceData: "{\"apellidos\":\"MARTINEZ SILVA\",\"nombres\":\"CARLOS ALBERTO\",\"fechaNacimiento\":\"10/07/1978\",\"sexo\":\"HOMBRE\",\"nacionalidad\":\"ECUATORIANA\",\"estadoCivil\":\"DIVORCIADO\"}"
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '502':
          $ref: '#/components/responses/BadGateway'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
      security:
        - apiKey: []
    delete:
      tags:
        - Civil Validation Ecuador
      summary: Civil Validation Service
      description: This service performs facial matching and/or data validation between the properties sent and the data from the Civil Registry of Ecuador. The specific operation depends on the request parameters.
      operationId: civilValidationDataWeb
      requestBody:
        description: Data validation request for web platform
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CivilValidationDataWebRequest'
            example:
              operation: "DATA"
              platform: "WEB"
              documentCode: "V1357V"
              imageFrontDocument: "base64ImageFrontString"
              imageBackDocument: "base64ImageBackString"
              countryCode: "ECU"
              returnPII: true
              tracking:
                extraData: "BQABAQG2gBNjuHN..."
                operationId: "xxxxx-xxxxx-xxxxx-xxxxx-xxxxx"
      responses:
        '200':
          description: Successfully processed data validation - web
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CivilValidationDataResponse'
              example:
                serviceResultCode: 0
                serviceTime: "2100"
                serviceResultLog: "Service executed ok"
                serviceTransactionId: "13579246-1357-9246-8024-135792468024"
                civilDataValidation:
                  - field: "firstName"
                    code: "-99"
                    message: "Possibly adulterated"
                  - field: "lastName"
                    code: "0"
                    message: "Validated ok"
                  - field: "dateOfBirth"
                    code: "0"
                    message: "Validated ok"
                serviceDocument: "{\"DocumentNumber\":\"2468135790\",\"FirstName\":\"ANA PATRICIA\",\"LastName\":\"LOPEZ HERRERA\",\"DateOfBirth\":\"22/09/1990\",\"Gender\":\"F\",\"Nationality\":\"ECUATORIANA\"}"
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '502':
          $ref: '#/components/responses/BadGateway'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
      security:
        - apiKey: []
    head:
      tags:
        - Civil Validation Ecuador
      summary: Civil Validation Service
      description: This service performs facial matching and/or data validation between the properties sent and the data from the Civil Registry of Ecuador. The specific operation depends on the request parameters.
      operationId: civilValidationFacialMobile
      requestBody:
        description: Facial validation request for mobile platform
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CivilValidationFacialMobileRequest'
            example:
              operation: "FACIAL"
              platform: "MOBILE"
              documentNumber: "9876543210"
              documentCode: "V2468V"
              templateRaw: "base64TemplateRawString"
              countryCode: "ECU"
              tracking:
                extraData: "BQABAQG2gBNjuHN..."
                operationId: "xxxxx-xxxxx-xxxxx-xxxxx-xxxxx"
      responses:
        '200':
          description: Successfully processed facial validation - mobile
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CivilValidationFacialResponse'
              example:
                serviceResultCode: 0
                serviceTime: "2800"
                serviceResultLog: "Positive | Service executed ok"
                serviceTransactionId: "24681357-2468-1357-9024-246813579024"
                civilDataValidation:
                  - field: "firstName"
                    code: "-99"
                    message: "Possibly adulterated"
                  - field: "lastName"
                    code: "0"
                    message: "Validated ok"
                  - field: "dateOfBirth"
                    code: "0"
                    message: "Validated ok"
                serviceFacialAuthenticationResult: 3
                serviceFacialSimilarityResult: 0.94
                serviceFacialAuthenticationHash: "DEF789GHI012JKL345MNO678PQR901STU234VWX567YZA890BCD123"
                serviceDocument: "{\"DocumentNumber\":\"9876543210\",\"FirstName\":\"LUIS FERNANDO\",\"LastName\":\"PEREZ CASTRO\",\"DateOfBirth\":\"05/12/1986\",\"Gender\":\"M\",\"Nationality\":\"ECUATORIANA\"}"
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '502':
          $ref: '#/components/responses/BadGateway'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
      security:
        - apiKey: []
    options:
      tags:
        - Civil Validation Ecuador
      summary: Civil Validation Service
      description: This service performs facial matching and/or data validation between the properties sent and the data from the Civil Registry of Ecuador. The specific operation depends on the request parameters.
      operationId: civilValidationFacialWeb
      requestBody:
        description: Facial validation request for web platform
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CivilValidationFacialWebRequest'
            example:
              operation: "FACIAL"
              platform: "WEB"
              templateRaw: "base64TemplateRawString"
              documentCode: "E8642I"
              documentNumber: "5678901234"
              countryCode: "ECU"
              returnPII: true
              tracking:
                extraData: "BQABAQG2gBNjuHN..."
                operationId: "xxxxx-xxxxx-xxxxx-xxxxx-xxxxx"
      responses:
        '200':
          description: Successfully processed facial validation - web
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CivilValidationFacialResponse'
              example:
                serviceResultCode: 0
                serviceResultLog: "NoneBecausePoseExceed"
                serviceTime: "1900"
                serviceFacialAuthenticationResult: 4
                serviceFacialAuthenticationHash: "GHI456JKL789MNO012PQR345STU678VWX901YZA234BCD567EFG890"
                serviceFacialSimilarityResult: 0.0
                serviceTransactionId: "86420135-8642-0135-7913-864201357913"
                civilServiceData: "{\"apellidos\":\"RAMIREZ MORENO\",\"nombres\":\"SOFIA ALEXANDRA\",\"fechaNacimiento\":\"13/04/1995\",\"sexo\":\"MUJER\",\"nacionalidad\":\"ECUATORIANA\",\"estadoCivil\":\"SOLTERO\"}"
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '502':
          $ref: '#/components/responses/BadGateway'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
      security:
        - apiKey: []
components:
  securitySchemes:
    apiKey:
      type: apiKey
      in: header
      name: x-api-key
      description: API key for authentication
  responses:
    BadRequest:
      description: Bad Request
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 400
              title:
                type: string
                example: "Bad Request"
              detail:
                type: string
                example: "Invalid request."
              type:
                type: string
                example: "https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400"
              errors:
                type: array
                example: []
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: "Unauthorized"
    Forbidden:
      description: Forbidden
      content:
        application/json:
          schema:
            type: object
            properties:
              Message:
                type: string
                example: "User is not authorized to access this resource with an explicit deny"
    BadGateway:
      description: Bad Gateway
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 502
              title:
                type: string
                example: "Bad Gateway"
              detail:
                type: string
                example: "Server got an invalid response."
              type:
                type: string
                example: "https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/502"
    GatewayTimeout:
      description: Gateway Timeout
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: "Endpoint request timed out"
  schemas:
    TrackingInfo:
      type: object
      description: Object that represents necessary tracking information.
      properties:
        extraData:
          type: string
          format: byte
          description: Token generated by Mobile/Web SDK. Contains tokenized tracking information with Platform.
          example: "BQABAQG2gBNjuHN..."
        operationId:
          type: string
          description: Operation identifier generated by Mobile/Web SDK.
          example: "xxxxx-xxxxx-xxxxx-xxxxx-xxxxx"
    CivilValidationFullMobileRequest:
      type: object
      required:
        - operation
        - platform
        - tokenOcr
        - templateRaw
        - documentCode
        - countryCode
      properties:
        operation:
          type: string
          description: Validation operation to perform. For this endpoint, must be "FULL".
          enum: ["FULL"]
          example: "FULL"
        platform:
          type: string
          description: Platform on which the request is made. For this endpoint, must be "MOBILE".
          enum: ["MOBILE"]
          example: "MOBILE"
        tokenOcr:
          type: string
          format: byte
          description: Token generated by the native or hybrid SelphID widget, AES256 encrypted and tokenized, sent in Base64 format. Contains the OCR result generated from the identity document capture. Required for MOBILE platform.
          example: "base64TokenOcrString"
        templateRaw:
          type: string
          format: byte
          description: Biometric template, property generated by the Selphi widget. Required for FACIAL or FULL operations.
          example: "base64TemplateRawString"
        documentCode:
          type: string
          description: Document code (fingerprintCode), necessary for document validation in Ecuador. Required for Ecuador (ECU).
          example: "E1234V"
        documentNumber:
          type: string
          description: User's document number. Optional for FULL operations with MOBILE platform.
          example: "1234567890"
        countryCode:
          type: string
          description: Country code in ISO 3166-1 alpha-3 format. Must be "ECU" for Ecuador.
          enum: ["ECU"]
          example: "ECU"
        returnPII:
          type: boolean
          description: Indicates if personal data generated by both the OCR service and the Civil Registry response is to be received.
          example: true
        documentValidation:
          type: boolean
          description: Indicates if document validation is to be initiated, returning scanReference and type.
          example: true
        tracking:
          $ref: '#/components/schemas/TrackingInfo'
    CivilValidationFullWebRequest:
      type: object
      required:
        - operation
        - platform
        - imageFrontDocument
        - imageBackDocument
        - templateRaw
        - documentCode
        - countryCode
      properties:
        operation:
          type: string
          description: Validation operation to perform. For this endpoint, must be "FULL".
          enum: ["FULL"]
          example: "FULL"
        platform:
          type: string
          description: Platform on which the request is made. For this endpoint, must be "WEB".
          enum: ["WEB"]
          example: "WEB"
        imageFrontDocument:
          type: string
          format: byte
          description: Front capture of the document, base64 image without the mime type header. Required for WEB platform.
          example: "base64ImageFrontString"
        imageBackDocument:
          type: string
          format: byte
          description: Back capture of the document, base64 image without the mime type header. Required for WEB platform.
          example: "base64ImageBackString"
        templateRaw:
          type: string
          format: byte
          description: Biometric template, property generated by the Selphi widget. Required for FACIAL or FULL operations.
          example: "base64TemplateRawString"
        documentNumber:
          type: string
          description: User's document number. Optional for FULL operations.
          example: "0987654321"
        documentCode:
          type: string
          description: Document code (fingerprintCode), necessary for document validation in Ecuador. Required for Ecuador (ECU).
          example: "V5678V"
        countryCode:
          type: string
          description: Country code in ISO 3166-1 alpha-3 format. Must be "ECU" for Ecuador.
          enum: ["ECU"]
          example: "ECU"
        returnPII:
          type: boolean
          description: Indicates if personal data generated by both the OCR service and the Civil Registry response is to be received.
          example: true
        documentValidation:
          type: boolean
          description: Indicates if document validation is to be initiated, returning scanReference and type.
          example: true
        tracking:
          $ref: '#/components/schemas/TrackingInfo'
    CivilValidationDataMobileRequest:
      type: object
      required:
        - operation
        - platform
        - tokenOcr
        - documentCode
        - countryCode
      properties:
        operation:
          type: string
          description: Validation operation to perform. For this endpoint, must be "DATA".
          enum: ["DATA"]
          example: "DATA"
        platform:
          type: string
          description: Platform on which the request is made. For this endpoint, must be "MOBILE".
          enum: ["MOBILE"]
          example: "MOBILE"
        tokenOcr:
          type: string
          format: byte
          description: Token generated by the native or hybrid SelphID widget, AES256 encrypted and tokenized, sent in Base64 format. Contains the OCR result generated from the identity document capture. Required for MOBILE platform.
          example: "base64TokenOcrString"
        documentCode:
          type: string
          description: Document code (fingerprintCode), necessary for document validation in Ecuador. Required for Ecuador (ECU).
          example: "E9876V"
        documentNumber:
          type: string
          description: User's document number. Optional for DATA operations.
          example: "1122334455"
        countryCode:
          type: string
          description: Country code in ISO 3166-1 alpha-3 format. Must be "ECU" for Ecuador.
          enum: ["ECU"]
          example: "ECU"
        returnPII:
          type: boolean
          description: Indicates if personal data generated by both the OCR service and the Civil Registry response is to be received.
          example: true
        documentValidation:
          type: boolean
          description: Indicates if document validation is to be initiated, returning scanReference and type.
          example: true
        tracking:
          $ref: '#/components/schemas/TrackingInfo'
    CivilValidationDataWebRequest:
      type: object
      required:
        - operation
        - platform
        - imageFrontDocument
        - imageBackDocument
        - documentCode
        - countryCode
      properties:
        operation:
          type: string
          description: Validation operation to perform. For this endpoint, must be "DATA".
          enum: ["DATA"]
          example: "DATA"
        platform:
          type: string
          description: Platform on which the request is made. For this endpoint, must be "WEB".
          enum: ["WEB"]
          example: "WEB"
        imageFrontDocument:
          type: string
          format: byte
          description: Front capture of the document, base64 image without the mime type header. Required for WEB platform.
          example: "base64ImageFrontString"
        imageBackDocument:
          type: string
          format: byte
          description: Back capture of the document, base64 image without the mime type header. Required for WEB platform.
          example: "base64ImageBackString"
        documentCode:
          type: string
          description: Document code (fingerprintCode), necessary for document validation in Ecuador. Required for Ecuador (ECU).
          example: "V1357V"
        countryCode:
          type: string
          description: Country code in ISO 3166-1 alpha-3 format. Must be "ECU" for Ecuador.
          enum: ["ECU"]
          example: "ECU"
        returnPII:
          type: boolean
          description: Indicates if personal data generated by both the OCR service and the Civil Registry response is to be received.
          example: true
        documentValidation:
          type: boolean
          description: Indicates if document validation is to be initiated, returning scanReference and type.
          example: true
        tracking:
          $ref: '#/components/schemas/TrackingInfo'
    CivilValidationFacialMobileRequest:
      type: object
      required:
        - operation
        - platform
        - templateRaw
        - documentCode
        - countryCode
      properties:
        operation:
          type: string
          description: Validation operation to perform. For this endpoint, must be "FACIAL".
          enum: ["FACIAL"]
          example: "FACIAL"
        platform:
          type: string
          description: Platform on which the request is made. For this endpoint, must be "MOBILE".
          enum: ["MOBILE"]
          example: "MOBILE"
        templateRaw:
          type: string
          format: byte
          description: Biometric template, property generated by the Selphi widget. Required for FACIAL or FULL operations.
          example: "base64TemplateRawString"
        documentNumber:
          type: string
          description: User's document number. Required for FACIAL operations.
          example: "9876543210"
        documentCode:
          type: string
          description: Document code (fingerprintCode), necessary for document validation in Ecuador. Required for Ecuador (ECU).
          example: "V2468V"
        countryCode:
          type: string
          description: Country code in ISO 3166-1 alpha-3 format. Must be "ECU" for Ecuador.
          enum: ["ECU"]
          example: "ECU"
        tracking:
          $ref: '#/components/schemas/TrackingInfo'
    CivilValidationFacialWebRequest:
      type: object
      required:
        - operation
        - platform
        - templateRaw
        - documentCode
        - documentNumber
        - countryCode
      properties:
        operation:
          type: string
          description: Validation operation to perform. For this endpoint, must be "FACIAL".
          enum: ["FACIAL"]
          example: "FACIAL"
        platform:
          type: string
          description: Platform on which the request is made. For this endpoint, must be "WEB".
          enum: ["WEB"]
          example: "WEB"
        templateRaw:
          type: string
          format: byte
          description: Biometric template, property generated by the Selphi widget. Required for FACIAL or FULL operations.
          example: "base64TemplateRawString"
        documentCode:
          type: string
          description: Document code (fingerprintCode), necessary for document validation in Ecuador. Required for Ecuador (ECU).
          example: "E8642I"
        documentNumber:
          type: string
          description: User's document number. Required for FACIAL operations.
          example: "5678901234"
        countryCode:
          type: string
          description: Country code in ISO 3166-1 alpha-3 format. Must be "ECU" for Ecuador.
          enum: ["ECU"]
          example: "ECU"
        returnPII:
          type: boolean
          description: Indicates if personal data generated by both the OCR service and the Civil Registry response is to be received.
          example: true
        tracking:
          $ref: '#/components/schemas/TrackingInfo'
    CivilDataValidationItem:
      type: object
      properties:
        field:
          type: string
          description: Field name being validated (e.g., firstName, lastName, dateOfBirth).
          example: "firstName"
        code:
          type: string
          description: |
            Validation result code:
            - "0": Validated ok
            - "-99": Possibly adulterated
            - Other codes may indicate specific validation issues
          example: "0"
        message:
          type: string
          description: Human-readable validation result message.
          example: "Validated ok"
    CivilValidationFullResponse:
      type: object
      properties:
        serviceResultCode:
          type: integer
          description: Code indicating the overall result of the service execution. See [Service Result Code](/docs/services/serviceResultCodes#service-result-code)
          example: 0
        serviceTime:
          type: string
          description: Field indicating the processing time in milliseconds.
          example: "2500"
        serviceResultLog:
          type: string
          description: Descriptive field of the service execution result. Includes details when there is an error or exception in the module.
          example: "Positive | Service executed ok"
        serviceTransactionId:
          type: string
          description: Transaction identifier associated with the request processed by the API.
          example: "12345678-1234-1234-1234-123456789012"
        civilDataValidation:
          type: array
          description: Array representing the OCR validations against the data obtained from the Civil Registry. The presence of this object depends on the consulted Civil Registry.
          items:
            $ref: '#/components/schemas/CivilDataValidationItem'
        serviceFacialAuthenticationResult:
          type: integer
          description: Code indicating the result of the facial matching. See [Service Facial Authentication Result](/docs/services/serviceResultCodes#service-facial-authentication-result)
          example: 3
        serviceFacialAuthenticationHash:
          type: string
          description: Integrity hash of the biometric template used in a positive or uncertain facial authentication.
          example: "ABC123DEF456GHI789JKL012MNO345PQR678STU901VWX234YZ567"
        serviceFacialSimilarityResult:
          type: number
          format: float
          description: Value indicating the facial similarity between the face in the identity document photo and the selfie taken by the user. 1.0 = 100%.
          example: 0.98
        serviceDocument:
          type: string
          description: JSON string representing the captured document. Its properties are all the fields extracted by the OCR process.
          example: "{\"DocumentNumber\":\"1234567890\",\"FirstName\":\"JUAN CARLOS\",\"LastName\":\"RODRIGUEZ LOPEZ\"}"
        civilServiceData:
          type: string
          description: JSON string representing the personal data obtained from the Civil Registry (returned only if returnPII was sent as true in the request).
          example: "{\"apellidos\":\"RODRIGUEZ LOPEZ\",\"nombres\":\"JUAN CARLOS\",\"fechaNacimiento\":\"15/03/1985\"}"
    CivilValidationDataResponse:
      type: object
      properties:
        serviceResultCode:
          type: integer
          description: Code indicating the overall result of the service execution. See [Service Result Code](/docs/services/serviceResultCodes#service-result-code)
          example: 0
        serviceTime:
          type: string
          description: Field indicating the processing time in milliseconds.
          example: "1800"
        serviceResultLog:
          type: string
          description: Descriptive field of the service execution result. Includes details when there is an error or exception in the module.
          example: "Service executed ok"
        serviceTransactionId:
          type: string
          description: Transaction identifier associated with the request processed by the API.
          example: "55443322-5544-3322-1100-554433221100"
        civilDataValidation:
          type: array
          description: Array representing the OCR validations against the data obtained from the Civil Registry. The presence of this object depends on the consulted Civil Registry.
          items:
            $ref: '#/components/schemas/CivilDataValidationItem'
        serviceDocument:
          type: string
          description: JSON string representing the captured document. Its properties are all the fields extracted by the OCR process.
          example: "{\"DocumentNumber\":\"1122334455\",\"FirstName\":\"CARLOS ALBERTO\",\"LastName\":\"MARTINEZ SILVA\"}"
        civilServiceData:
          type: string
          description: JSON string representing the personal data obtained from the Civil Registry (returned only if returnPII was sent as true in the request).
          example: "{\"apellidos\":\"MARTINEZ SILVA\",\"nombres\":\"CARLOS ALBERTO\",\"fechaNacimiento\":\"10/07/1978\"}"
    CivilValidationFacialResponse:
      type: object
      properties:
        serviceResultCode:
          type: integer
          description: Code indicating the overall result of the service execution. See [Service Result Code](/docs/services/serviceResultCodes#service-result-code)
          example: 0
        serviceTime:
          type: string
          description: Field indicating the processing time in milliseconds.
          example: "2800"
        serviceResultLog:
          type: string
          description: Descriptive field of the service execution result. Includes details when there is an error or exception in the module.
          example: "Positive | Service executed ok"
        serviceTransactionId:
          type: string
          description: Transaction identifier associated with the request processed by the API.
          example: "24681357-2468-1357-9024-246813579024"
        civilDataValidation:
          type: array
          description: Array representing the OCR validations against the data obtained from the Civil Registry. The presence of this object depends on the consulted Civil Registry.
          items:
            $ref: '#/components/schemas/CivilDataValidationItem'
        serviceFacialAuthenticationResult:
          type: integer
          description: Code indicating the result of the facial matching. See [Service Facial Authentication Result](/docs/services/serviceResultCodes#service-facial-authentication-result)
          example: 3
        serviceFacialAuthenticationHash:
          type: string
          description: Integrity hash of the biometric template used in a positive or uncertain facial authentication.
          example: "DEF789GHI012JKL345MNO678PQR901STU234VWX567YZA890BCD123"
        serviceFacialSimilarityResult:
          type: number
          format: float
          description: Value indicating the facial similarity between the face in the identity document photo and the selfie taken by the user. 1.0 = 100%.
          example: 0.94
        serviceDocument:
          type: string
          description: JSON string representing the captured document. Its properties are all the fields extracted by the OCR process.
          example: "{\"DocumentNumber\":\"9876543210\",\"FirstName\":\"LUIS FERNANDO\",\"LastName\":\"PEREZ CASTRO\"}"
        civilServiceData:
          type: string
          description: JSON string representing the personal data obtained from the Civil Registry (returned only if returnPII was sent as true in the request).
          example: "{\"apellidos\":\"RAMIREZ MORENO\",\"nombres\":\"SOFIA ALEXANDRA\",\"fechaNacimiento\":\"13/04/1995\"}"