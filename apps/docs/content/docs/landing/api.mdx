---
title: API
description: Landing API for generating landing URLs through valid API keys
---

The Landing api is used to generate a landing url through a valid apikey so that this URL can be used by the client for the consumption of its users.

## How to call

Once the landing page is generated and published, the client will be provided with the url that will be used to call the API in the following way:

```bash
curl -X POST \
  https://landing.identity-platform.io/api/landing \
  -H 'Content-Type: application/json' \
  -H 'x-api-key: CLIENT_API_KEY' \
  -d '{}'
```

This call will return the url of the landing and the status as follows:

```json
{
    "status": true,
    "url": "https://test.landing.identity-platform.io"
}
```

## UniqueUrl

This API offers the possibility to generate a unique url encoded for use by a single customer either by assigning it a customerId, the documentNumber or both as follows:

```bash
curl -X POST \
  https://landing.identity-platform.io/api/landing \
  -H 'Content-Type: application/json' \
  -H 'x-api-key: YOUR_API_KEY' \
  -d '{
        "uniqueUrl": true,
        "customerId": "example",
        "documentNumber": "1111111111S"
     }'
```

This call will generate a unique url with a validation time of 15 minutes after that time the url will expire and is also associated with the documentNumber that is sent, which means that if the document capture is of a different number the operation will be rejected on the platform.

You can change the validity time of a url by adding the time parameter in minutes like this:

```bash
curl -X POST \
  https://landing.identity-platform.io/api/landing \
  -H 'Content-Type: application/json' \
  -H 'x-api-key: YOUR_API_KEY' \
  -d '{
        "uniqueUrl": true,
        "customerId": "example",
        "documentNumber": "1111111111S",
        "time": "30"
     }'
```

## Examples of API implementations in different languages

### NodeJS

```javascript
const fetch = require('node-fetch');

const apiUrl = 'https://landing.identity-platform.io/api/landing';
const apiKey = 'YOUR_API_KEY';

const postData = {
    uniqueUrl: true,
    customerId: 'example',
    documentNumber: '1111111111S',
    time: '30'
};

fetch(apiUrl, {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'x-api-key': apiKey
    },
    body: JSON.stringify(postData)
})
.then(response => {
    if (response.ok) {
        return response.json();
    } else {
        throw new Error('Error');
    }
})
.then(data => {
    console.log('Response:', data);
})
.catch(error => {
    console.error('Error:', error);
});
```

### Java

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;

public class Main {
    public static void main(String[] args) throws IOException {
        // API endpoint and API key
        String apiUrl = "https://landing.identity-platform.io/api/landing";
        String apiKey = "YOUR_API_KEY";

        // JSON data to send
        String postData = "{\"uniqueUrl\": true, \"customerId\": \"example\", \"documentNumber\": \"1111111111S\", \"time\": \"30\"}";

        // Create URL object
        URL url = new URL(apiUrl);

        // Create HTTP connection
        HttpURLConnection connection = (HttpURLConnection) url.openConnection();

        // Set request method
        connection.setRequestMethod("POST");

        // Set request headers
        connection.setRequestProperty("Content-Type", "application/json");
        connection.setRequestProperty("x-api-key", apiKey);

        // Enable output and disable input
        connection.setDoOutput(true);
        connection.setDoInput(false);

        // Write JSON data to the connection
        try (OutputStream os = connection.getOutputStream()) {
            byte[] input = postData.getBytes("utf-8");
            os.write(input, 0, input.length);
        }

        // Get response code
        int responseCode = connection.getResponseCode();

        // Read response body
        try (BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream(), "utf-8"))) {
            StringBuilder response = new StringBuilder();
            String responseLine = null;
            while ((responseLine = br.readLine()) != null) {
                response.append(responseLine.trim());
            }
            System.out.println("Response Code: " + responseCode);
            System.out.println("Response: " + response.toString());
        }
    }
}
```

### PHP

```php
<?php
// API endpoint and API key
$apiUrl = 'https://landing.identity-platform.io/api/landing';
$apiKey = 'YOUR_API_KEY';

// JSON data to send
$postData = json_encode(array(
    'uniqueUrl' => true,
    'customerId' => 'example',
    'documentNumber' => '1111111111S',
    'time' => '30'
));

// Set request headers
$headers = array(
    'Content-Type: application/json',
    'x-api-key: ' . $apiKey
);

// Initialize cURL session
$ch = curl_init();

// Set cURL options
curl_setopt($ch, CURLOPT_URL, $apiUrl);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, $postData);
curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

// Execute cURL request
$response = curl_exec($ch);

// Check for errors
if(curl_errno($ch)){
    echo 'Error: ' . curl_error($ch);
}

// Close cURL session
curl_close($ch);

// Output response
echo $response;
?>
```